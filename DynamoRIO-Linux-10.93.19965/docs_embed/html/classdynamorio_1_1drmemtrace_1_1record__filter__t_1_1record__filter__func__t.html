---
title: "dynamorio::drmemtrace::record_filter_t::record_filter_func_t Class Reference"
layout: default
permalink: /classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html
---
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DynamoRIO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>dynamorio</b></li><li class="navelem"><a class="el" href="namespacedynamorio_1_1drmemtrace.html">drmemtrace</a></li><li class="navelem"><a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t.html">record_filter_t</a></li><li class="navelem"><a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html">record_filter_func_t</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">dynamorio::drmemtrace::record_filter_t::record_filter_func_t Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;record_filter.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a66293e4e66345724eccfcc613566e2ad"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#a66293e4e66345724eccfcc613566e2ad">parallel_shard_init</a> (<a class="el" href="classdynamorio_1_1drmemtrace_1_1memtrace__stream__t.html">memtrace_stream_t</a> *shard_stream, bool partial_trace_filter)=0</td></tr>
<tr class="separator:a66293e4e66345724eccfcc613566e2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7bf7379d6a904f47695d034df4346a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#a0e7bf7379d6a904f47695d034df4346a">parallel_shard_filter</a> (<a class="el" href="namespacedynamorio_1_1drmemtrace.html#a067f98c2dab7fe5329e2ba248836370e">trace_entry_t</a> &amp;entry, void *shard_data, <a class="el" href="structdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__info__t.html">record_filter_info_t</a> &amp;record_filter_info)=0</td></tr>
<tr class="separator:a0e7bf7379d6a904f47695d034df4346a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3622bdac541b5a3001cf2cac36713b9"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#ac3622bdac541b5a3001cf2cac36713b9">parallel_shard_exit</a> (void *shard_data)=0</td></tr>
<tr class="separator:ac3622bdac541b5a3001cf2cac36713b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeedfbd99a8f3aa5d7af80b20ce2f367"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#aeeedfbd99a8f3aa5d7af80b20ce2f367">get_error_string</a> ()</td></tr>
<tr class="separator:aeeedfbd99a8f3aa5d7af80b20ce2f367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe01bf251942690fe1c755613bb62cc"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#a2fe01bf251942690fe1c755613bb62cc">update_filetype</a> (uint64_t filetype)</td></tr>
<tr class="separator:a2fe01bf251942690fe1c755613bb62cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The base class for a single filter. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aeeedfbd99a8f3aa5d7af80b20ce2f367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeedfbd99a8f3aa5d7af80b20ce2f367">&#9670;&nbsp;</a></span>get_error_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dynamorio::drmemtrace::record_filter_t::record_filter_func_t::get_error_string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the error string. If no error occurred, it will be empty. </p>

</div>
</div>
<a id="ac3622bdac541b5a3001cf2cac36713b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3622bdac541b5a3001cf2cac36713b9">&#9670;&nbsp;</a></span>parallel_shard_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool dynamorio::drmemtrace::record_filter_t::record_filter_func_t::parallel_shard_exit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>shard_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked when all <a class="el" href="namespacedynamorio_1_1drmemtrace.html#a067f98c2dab7fe5329e2ba248836370e">trace_entry_t</a> in a shard have been processed by <a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#a0e7bf7379d6a904f47695d034df4346a">parallel_shard_filter()</a>. <code>shard_data</code> is same as what was returned by <a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#a66293e4e66345724eccfcc613566e2ad">parallel_shard_init()</a>. </p>

</div>
</div>
<a id="a0e7bf7379d6a904f47695d034df4346a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e7bf7379d6a904f47695d034df4346a">&#9670;&nbsp;</a></span>parallel_shard_filter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool dynamorio::drmemtrace::record_filter_t::record_filter_func_t::parallel_shard_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedynamorio_1_1drmemtrace.html#a067f98c2dab7fe5329e2ba248836370e">trace_entry_t</a> &amp;&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>shard_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__info__t.html">record_filter_info_t</a> &amp;&#160;</td>
          <td class="paramname"><em>record_filter_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked for each <a class="el" href="namespacedynamorio_1_1drmemtrace.html#a067f98c2dab7fe5329e2ba248836370e">trace_entry_t</a> in the shard. It returns whether or not this <code>entry</code> should be included in the result trace. <code>shard_data</code> is same as what was returned by <a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#a66293e4e66345724eccfcc613566e2ad">parallel_shard_init()</a>. The given <code>entry</code> is included in the result trace iff all provided <a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html">dynamorio::drmemtrace::record_filter_t::record_filter_func_t</a> return true. The <code>entry</code> parameter can also be modified by the <a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html">record_filter_func_t</a>. The passed <code>entry</code> is not guaranteed to be the original one from the trace if other filter tools are present, and may include changes made by other tools. An error is indicated by setting error_string_ to a non-empty value. <code>record_filter_info</code> is the interface used by record_filter to share data with its filters. </p>

</div>
</div>
<a id="a66293e4e66345724eccfcc613566e2ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66293e4e66345724eccfcc613566e2ad">&#9670;&nbsp;</a></span>parallel_shard_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void* dynamorio::drmemtrace::record_filter_t::record_filter_func_t::parallel_shard_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdynamorio_1_1drmemtrace_1_1memtrace__stream__t.html">memtrace_stream_t</a> *&#160;</td>
          <td class="paramname"><em>shard_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>partial_trace_filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked for each shard prior to calling <a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#a0e7bf7379d6a904f47695d034df4346a">parallel_shard_filter()</a> on any entry. The returned pointer is passed to all invocations of <a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#a0e7bf7379d6a904f47695d034df4346a">parallel_shard_filter()</a> and <a class="el" href="classdynamorio_1_1drmemtrace_1_1record__filter__t_1_1record__filter__func__t.html#ac3622bdac541b5a3001cf2cac36713b9">parallel_shard_exit()</a>. This routine can be used to initialize state for each shard. <code>partial_trace_filter</code> denotes whether the trace will be filtered only partially, e.g. due to stop_timestamp. </p>

</div>
</div>
<a id="a2fe01bf251942690fe1c755613bb62cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fe01bf251942690fe1c755613bb62cc">&#9670;&nbsp;</a></span>update_filetype()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t dynamorio::drmemtrace::record_filter_t::record_filter_func_t::update_filetype </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>filetype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If a filter modifies the file type of a trace, its changes should be made here, so they are visible to the record_filter even if the <a class="el" href="namespacedynamorio_1_1drmemtrace.html#a067f98c2dab7fe5329e2ba248836370e">trace_entry_t</a> containing the file type marker is not modified directly by the filter. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/dynamorio/dynamorio/build_release-32/clients/include/drmemtrace/record_filter.h</li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  DynamoRIO version 10.93.19965 --- Sat Aug 31 2024 02:43:30 &nbsp; <img border=0 src="favicon.png">
</small></address>
